(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),o=n.n(r),a=n(14),i=n.n(a),u=n(13),s=(n(50),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),o(t),a(t)}))}),d=n(5),l=n(17),j=function(t){var e=t.addNew,n=Object(r.useState)(""),o=Object(l.a)(n,2),a=o[0],i=o[1],u=Object(r.useState)(""),s=Object(l.a)(u,2),d=s[0],j=s[1],O=Object(r.useState)(0),p=Object(l.a)(O,2),f=p[0],b=p[1],h=Object(r.useState)(""),v=Object(l.a)(h,2),x=v[0],g=v[1];return Object(c.jsxs)("section",{className:"edit",children:[Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{htmlFor:"",children:"Name :"}),Object(c.jsx)("input",{type:"text",onChange:function(t){return i(t.target.value)}})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{htmlFor:"",children:"Description :"}),Object(c.jsx)("input",{type:"text",onChange:function(t){return j(t.target.value)}})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{htmlFor:"",children:"Price :"}),Object(c.jsx)("input",{type:"number",onChange:function(t){return b(parseInt(t.target.value))}})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{htmlFor:"",children:"Category:"}),Object(c.jsx)("input",{type:"text",onChange:function(t){return g(t.target.value)}})]}),Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("input",{type:"button",value:"Add Product",onClick:function(){e(a,d,f,x)}})})]})},O=n(8),p=n(9),f=n(11),b=n(10),h=function(t){var e=t.product,n=(t.toggleOutOfStock,t.remove),r=e.name,o=e.description,a=e.price,i=e.isOutOfStock,u=e.category;return Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"name "+(i?"outofstock":""),children:r}),Object(c.jsxs)("span",{children:[" ",u," "]}),Object(c.jsx)("div",{children:o}),Object(c.jsxs)("div",{className:"price",children:["Rs.",a]}),Object(c.jsx)("input",{type:"button",value:"Add to Cart"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"button",value:"Remove",onClick:function(){return n(e)}})]})},v=(n(51),function(t){Object(f.a)(n,t);var e=Object(b.a)(n);function n(){return Object(O.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this.props,e=t.products,n=t.toggleOutOfStock,r=t.remove;t.removeOutOfStock;console.log("inside productsList.jsx",e);var o=e.map((function(t){return Object(c.jsx)(h,{product:t,toggleOutOfStock:n,remove:r},t.id)}));return Object(c.jsx)("div",{className:"center-col",children:Object(c.jsx)("section",{className:"list",children:Object(c.jsx)("ol",{children:o})})})}}]),n}(r.Component)),x=(n(52),n(6)),g=n.n(x),m="http://localhost:3030/products/";var y={getAll:function(){return g.a.get(m).then((function(t){return t.data}))},getById:function(t){return g.a.get("".concat(m,"/").concat(t)).then((function(t){return t.data}))},save:function(t){return 0===t.id?g.a.post(m,t).then((function(t){return t.data})):g.a.put("".concat(m,"/").concat(t.id),t).then((function(t){return t.data}))},remove:function(t){return g.a.delete("".concat(m,"/").concat(t.id)).then((function(t){return t.data}))}};var C=function(t,e,n,c){return function(r){var o={id:0,name:t,description:e,price:n,isOutOfStock:!1,category:c};y.save(o).then((function(t){r({type:"ADD_PRODUCT",payload:t})}))}};var T=function(t){return function(e){y.remove(t).then((function(){e({type:"REMOVE_PRODUCT",payload:t})}))}},S=n(29);var D=function(t){return function(e){t.filter((function(t){return t.isOutOfStock})).forEach((function(t){T(t)(e)}))}};var R={addNew:C,remove:T,toggleOutOfStock:function(t){return function(e){var n=Object(S.a)(Object(S.a)({},t),{},{isOutOfStock:!t.isOutOfStock});y.save(n).then((function(t){e({type:"UPDATE_PRODUCT",payload:t})}))}},removeOutOfStock:D,load:function(){return function(t){y.getAll().then((function(e){t({type:"INIT_PRODUCTS",payload:e})}))}}};var k=Object(u.b)((function(t){return console.log("inside mapStatetoprops products index.js",t.products),{data:t.products}}),(function(t){return console.log("we are here mapDispatchToProps",t),Object(d.b)(R,t)}))((function(t){var e=t.data,n=t.toggleOutOfStock,o=t.remove,a=t.removeOutOfStock,i=t.addNew,u=t.load;return Object(r.useEffect)(u,[u]),console.log("inside productsIndex.js",e),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Products"}),Object(c.jsx)("input",{type:"button",value:"LOAD PRODUCTS",onClick:u}),Object(c.jsx)("hr",{}),Object(c.jsx)(j,{addNew:i}),Object(c.jsx)(v,{products:e,toggleOutOfStock:n,remove:o,removeOutOfStock:a})]})})),A=n(21),N=n(2),P=n(39),_=n.n(P),E=n(40),I=Object(d.a)(_.a,E.a),U=n(20);var w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if("ADD_PRODUCT"===e.type){var n=[].concat(Object(U.a)(t),[e.payload]);return n}if("UPDATE_PRODUCT"===e.type){var c=e.payload,r=t.map((function(t){return t.id===c.id?c:t}));return r}if("REMOVE_PRODUCT"===e.type){var o=t.filter((function(t){return t.id!==e.payload.id}));return o}if("REMOVE_MANY_PRODUCTS"===e.type){var a=e.payload,i=t.filter((function(t){return!a.find((function(e){return e.id===t.id}))}));return i}return"INIT_PRODUCTS"===e.type?e.payload:t};var F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if("ADD_CART"===e.type){var n=[].concat(Object(U.a)(t),[e.payload]);return n}if("UPDATE_CART"===e.type){var c=e.payload,r=t.map((function(t){return t.id===c.id?c:t}));return r}if("REMOVE_CART"===e.type){var o=t.filter((function(t){return t.id!==e.payload.id}));return o}return"INIT_CARTS"===e.type?e.payload:t},M=Object(d.c)({products:w,cartItems:F}),V=Object(d.d)(M,I),B=(r.Component,r.Component,"http://localhost:3030/cart/");var L={getAll:function(){return g.a.get(B).then((function(t){return t.data}))},getById:function(t){return g.a.get("".concat(B,"/").concat(t)).then((function(t){return t.data}))},save:function(t){return 0===t.id?g.a.post(B,t).then((function(t){return t.data})):g.a.put("".concat(B,"/").concat(t.id),t).then((function(t){return t.data}))},remove:function(t){return g.a.delete("".concat(B,"/").concat(t.id)).then((function(t){return t.data}))}};var J={addNewCart:function(t,e,n,c,r){return function(o){var a={id:0,name:t,description:e,price:n,isOutOfStock:!1,category:c,quantity:r};L.save(a).then((function(t){o({type:"ADD_CART",payload:t})}))}},removeCart:function(t){return function(e){L.remove(t).then((function(){e({type:"REMOVE_CART",payload:t})}))}},loadCart:function(){return function(t){L.getAll().then((function(e){t({type:"INIT_CARTS",payload:e})}))}}},Y=function(t){Object(f.a)(n,t);var e=Object(b.a)(n);function n(){return Object(O.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:["Welcome to your cart",Object(c.jsx)("section",{className:"list",children:Object(c.jsx)("ol",{children:"Your cart items:"})})]})}}]),n}(r.Component);var q=Object(u.b)((function(t){return console.log("inside mapStatetoprops products index.js",t.products),{data:t.products}}),(function(t){return console.log("we are here mapDispatchToProps",t),Object(d.b)(J,t)}))(Y);i.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(A.a,{children:Object(c.jsxs)(u.a,{store:V,children:[Object(c.jsx)("h1",{children:"Shopping Cart"}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("span",{children:["[ ",Object(c.jsx)(A.b,{to:"/products",children:"Products"})," ]"]}),Object(c.jsxs)("span",{children:["[ ",Object(c.jsx)(A.b,{to:"/goToCart",children:"GO TO CART"})," ]"]})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)(N.c,{children:[Object(c.jsx)(N.a,{path:"/goToCart",component:q}),Object(c.jsx)(N.a,{path:"/products",component:k})]})]})})}),document.getElementById("root")),s()}},[[71,1,2]]]);
//# sourceMappingURL=main.27fe6e62.chunk.js.map